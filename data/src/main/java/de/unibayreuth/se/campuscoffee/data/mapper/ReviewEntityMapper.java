package de.unibayreuth.se.campuscoffee.data.mapper;

import de.unibayreuth.se.campuscoffee.data.persistence.*;
import de.unibayreuth.se.campuscoffee.domain.model.Review;
import org.mapstruct.Mapper;
import org.mapstruct.Mapping;
import org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;


@Mapper(componentModel = "spring", uses = {PosEntityMapper.class, UserEntityMapper.class})
@ConditionalOnMissingBean // prevent IntelliJ warning about duplicate beans
public interface ReviewEntityMapper {
   @Mapping(target = "approved", ignore = true)
   Review fromEntity(ReviewEntity source);

   @Mapping(target = "approvalCount", defaultValue = "0")
   ReviewEntity toEntity(Review source);
}
